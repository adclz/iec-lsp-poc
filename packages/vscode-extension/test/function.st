TYPE
  // Version 0.1
  ENGINE_COMMANDS: (RUN, STOP);
  // Version 0.2
  ENGINE_STATE: (RUNNING, STOPPED, FAULT);

  A_STRUCT: STRUCT
    FIELD1: INT; 
    FIELD2: INT;
  END_STRUCT
END_TYPE


FUNCTION ENGINECONTROL : ENGINE_STATE
    VAR_INPUT RETAIN
      COMMAND: ENGINE_COMMANDS;
    END_VAR
    
    VAR 
      STATE: ENGINE_STATE;
      MY_STRUCT: A_STRUCT;
    END_VAR
    
    STATE := ENGINE_STATE.FAULT;
    MY_STRUCT.FIELD1 := 1;

END_FUNCTION

